@model IEnumerable<Project8.Models.AspNetUser>

@{
    ViewBag.Title = "AspNetUser";
}
@section Search{

    @using (Html.BeginForm("Index", "AspNetUsers", FormMethod.Post, new { @class = "form-search", role = "form", style = "width:800px" }))
    {

        <input class="form-control mr-sm-2" type="text" name="search5" id="search5" placeholder="Search ..." aria-label="Search" style="width:80%;background-color:transparent;border:none;">
        @*@Html.ActionLink("Search", "Search", "AspNetUsers", " ", new { @class = "search-close" })*@
        <button class="btn btn-primary" type="submit" value="search" style="z-index:5;"><i class="fa fa-search"></i></button>
        <button class="search-close" ><i class="fa fa-close"></i></button>


    }

    @*<form class="form-search">
            <input class="form-control mr-sm-2" type="text" placeholder="Search ..." aria-label="Search">
            <button class="search-close" type="submit"><i class="fa fa-close"></i></button>

        </form>*@

    @*<div class="header-left">
            <button class="search-trigger"><i class="fa fa-search"></i></button>
            <div class="form-inline">

                <form class="form-search">
                    <input class="form-control mr-sm-2" type="text" placeholder="Search ..." aria-label="Search">
                    <button class="search-close" type="submit"><i class="fa fa-close"></i></button>

                </form>

            </div>
        </div>*@
}

<style>
    .dtHorizontalExampleWrapper {
        max-width: 600px;
        margin: 0 auto;
    }

    #dtHorizontalExample th, td {
        white-space: nowrap;
    }

    table.dataTable thead .sorting:after,
    table.dataTable thead .sorting:before,
    table.dataTable thead .sorting_asc:after,
    table.dataTable thead .sorting_asc:before,
    table.dataTable thead .sorting_asc_disabled:after,
    table.dataTable thead .sorting_asc_disabled:before,
    table.dataTable thead .sorting_desc:after,
    table.dataTable thead .sorting_desc:before,
    table.dataTable thead .sorting_desc_disabled:after,
    table.dataTable thead .sorting_desc_disabled:before {
        bottom: .5em;
    }

    body {
        overflow-x: clip;
    }

    .imgthumbnail {
        z-index: 999999;
        cursor: pointer;
        -webkit-transition-property: all;
        -webkit-transition-duration: 0.5s;
    }

        .imgthumbnail:hover {
            transform: scale(5);
        }
</style>
<h2>Requests</h2>
<div style="float:right; margin-right:30px">
    @using (Html.BeginForm("Index", "AspNetUsers", FormMethod.Post, new { role = "form" , id="filter" }))
    {
        <label>
            Rejected
            <input type="radio" onclick="submiit()" name="filter" value="1" />
        </label>
        <label>
            Accepted
            <input type="radio" onclick="submiit()" name="filter" value="2" />
        </label>
        <label>
            Pending
            <input type="radio" onclick="submiit()" name="filter" value="4" />
        </label>
        <label>
            All
            <input type="radio" onclick="submiit()" name="filter" value="3" />
        </label>

        @*@Html.ActionLink("Search", "Search", "AspNetUsers", " ", new { @class = "search-close" })
        <button class="btn btn-primary" type="submit" value="search" style="z-index:5;">Filter</button>*@



    }
</div>
<div style="width:80vw;overflow:scroll; ">
    <table class="table table-striped table-bordered " style="overflow: scroll;">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Email)
            </th>
            @*<th>
                    @Html.DisplayNameFor(model => model.EmailConfirmed)
                </th>*@
            @*<th>
                    @Html.DisplayNameFor(model => model.PasswordHash)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.SecurityStamp)
                </th>*@
            @*<th>
                    @Html.DisplayNameFor(model => model.PhoneNumber)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.PhoneNumberConfirmed)
                </th>*@
            @*<th>
                    @Html.DisplayNameFor(model => model.TwoFactorEnabled)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LockoutEndDateUtc)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LockoutEnabled)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.AccessFailedCount)
                </th>*@
            @*<th>
                    @Html.DisplayNameFor(model => model.UserName)
                </th>*@
            <th>
Personal Image            </th>
            @*<th>
                    @Html.DisplayNameFor(model => model.Id_Image)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.National_Number)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.HighSchool_Image)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.HighSchool_Avg)
                </th>*@
            <th>
                First Name
            </th>
            <th>
                Last Name
            </th>
            <th>
                Status
            </th>
            @*<th>
                    @Html.DisplayNameFor(model => model.Balance)
                </th>*@
            <th>
Major Name            </th>
            <th style="text-align:center;">
                Actions
            </th>
            <th>Details</th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>
                @*<td>
                        @Html.DisplayFor(modelItem => item.EmailConfirmed)
                    </td>*@
                @*<td>
                        @Html.DisplayFor(modelItem => item.PasswordHash)
                    </td>*@
                @*<td>
                        @Html.DisplayFor(modelItem => item.SecurityStamp)
                    </td>*@
                @*<td>
                        @Html.DisplayFor(modelItem => item.PhoneNumber)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PhoneNumberConfirmed)
                    </td>*@
                @*<td>
                        @Html.DisplayFor(modelItem => item.TwoFactorEnabled)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.LockoutEndDateUtc)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.LockoutEnabled)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.AccessFailedCount)
                    </td>*@
                @*<td>
                        @Html.DisplayFor(modelItem => item.UserName)
                    </td>*@
                <td>
                    <img class="imgthumbnail" style="width:50px; height:50px" src="~/Images/@Html.DisplayFor(modelItem => item.user_image)" />

                </td>
                @*<td>
                        <img class="imgthumbnail" style="width:50px; height:50px" src="~/Images/@Html.DisplayFor(modelItem => item.Id_Image)" />

                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.National_Number)
                    </td>
                    <td>
                        <img class="imgthumbnail" style="width:50px; height:50px" src="~/Images/@Html.DisplayFor(modelItem => item.HighSchool_Image)" />

                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.HighSchool_Avg)
                    </td>*@
                <td>
                    @Html.DisplayFor(modelItem => item.First_Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Last_Name)
                </td>
                <td>
                    @if (item.IsAccepted == true)
                    {
                        <label class="badge badge-complete" style="background-color: #28a745; height: 30px; display: grid; align-items: center; color: white; ">Accepted</label>
                    }
                    else if (item.IsAccepted == false)
                    {
                        <span class="badge badge-complete" style="background-color: #dc3545; height: 30px; display: grid; align-items: center;color:white; ">Regected</span>
                    }
                    else
                    { <span class="badge badge-pending" style="background-color: orange; height: 30px; display: grid; align-items: center; color: white; ">Pending</span>}
                    @*@Html.DisplayFor(modelItem => item.IsAccepted)*@
                </td>
                @*<td>
                        @Html.DisplayFor(modelItem => item.Balance)
                    </td>*@
                <td>
                    @Html.DisplayFor(modelItem => item.Major.Major_Name)
                </td>

                <td style="text-align:center;">
                    @if (item.IsAccepted == null)
                    {
                        @Html.ActionLink("Accept", "Accept", new { id = item.Id }, new { @class = "btn btn-success" })
                    }

                    @if (item.IsAccepted == null)
                    {
                        @Html.ActionLink("Reject", "Reject", new { id = item.Id }, new { @class = "btn btn-danger" })
                    }
                </td>
                <td>
                    @Html.ActionLink("Details", "Details", new { id = item.Id }, new { @class = "btn btn-dark" })

                </td>
            </tr>
        }

    </table>
</div>
<script>
    $(document).ready(function () {
        $('#dtHorizontalExample').DataTable({
            "scrollX": true
        });
        $('.dataTables_length').addClass('bs-select');
    });
</script>
<script>
    function submiit() {
        document.getElementById("filter").submit();
    }
</script>
